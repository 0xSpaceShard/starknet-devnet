"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6017],{8548:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var s=t(4848),i=t(8453);const r={},a="Gas price modification",o={id:"gas",title:"Gas price modification",description:"On Devnet startup - via CLI",source:"@site/versioned_docs/version-0.5.0/gas.md",sourceDirName:".",slug:"/gas",permalink:"/starknet-devnet/docs/0.5.0/gas",draft:!1,unlisted:!1,editUrl:"https://github.com/0xSpaceShard/starknet-devnet/blob/master/website/versioned_docs/version-0.5.0/gas.md",tags:[],version:"0.5.0",frontMatter:{},sidebar:"docSidebar",previous:{title:"Forking",permalink:"/starknet-devnet/docs/0.5.0/forking"},next:{title:"Historic state support",permalink:"/starknet-devnet/docs/0.5.0/historic-state"}},c={},l=[{value:"On Devnet startup - via CLI",id:"on-devnet-startup---via-cli",level:2},{value:"On a running Devnet - via JSON-RPC",id:"on-a-running-devnet---via-json-rpc",level:2},{value:"Explanation",id:"explanation",level:3},{value:"generate_block",id:"generate_block",level:3},{value:"JSON-RPC Request",id:"json-rpc-request",level:3},{value:"Response",id:"response",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"gas-price-modification",children:"Gas price modification"}),"\n",(0,s.jsx)(n.h2,{id:"on-devnet-startup---via-cli",children:"On Devnet startup - via CLI"}),"\n",(0,s.jsxs)(n.p,{children:["All gas prices (L1 gas, L1 data gas, L2 gas) can be specified on startup, via their respective CLI params. Check ",(0,s.jsx)(n.code,{children:"starknet-devnet --help | grep price"})," for more info."]}),"\n",(0,s.jsx)(n.h2,{id:"on-a-running-devnet---via-json-rpc",children:"On a running Devnet - via JSON-RPC"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"devnet_setGasPrice"})," RPC method allows users to modify the current gas prices on a running Devnet. This feature is particularly useful for testing purposes and for adjustments needed after forking to align with the forked network's gas prices. All parameters are optional, allowing you to choose which ones you want to set. A boolean flag ",(0,s.jsx)(n.code,{children:"generate_block"})," indicates whether a new block should be generated immediately after setting the gas prices."]}),"\n",(0,s.jsx)(n.h3,{id:"explanation",children:"Explanation"}),"\n",(0,s.jsx)(n.p,{children:"The modified gas prices take effect starting with the next block that is generated."}),"\n",(0,s.jsx)(n.h3,{id:"generate_block",children:"generate_block"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["When set to ",(0,s.jsx)(n.code,{children:"true"}),", a new block will be generated immediately after the gas prices are set. This ensures that the changes take effect right away and are reflected in the devnet state without waiting for the next block generation."]}),"\n",(0,s.jsxs)(n.li,{children:["When set to ",(0,s.jsx)(n.code,{children:"false"})," (or omitted), the gas prices will be set, but the changes will not be immediately committed to the devnet state until the next block is generated through the usual block generation process."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"json-rpc-request",children:"JSON-RPC Request"}),"\n",(0,s.jsx)(n.p,{children:"The following JSON-RPC request can be used to set gas prices (all properties optional):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'JSON-RPC\n{\n    "jsonrpc": "2.0",\n    "id": "1",\n    "method": "devnet_setGasPrice",\n    "params": {\n        "gas_price_wei": 1000000,\n        "data_gas_price_wei": 10000,\n        "gas_price_fri": 10000,\n        "data_gas_price_fri": 10000,\n        "l2_gas_price_wei": 1000000,\n        "l2_gas_price_fri": 10000,\n        "generate_block": false,\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"response",children:"Response"}),"\n",(0,s.jsx)(n.p,{children:"The expected response from the server will mirror the request gas parameters, confirming the modification of gas prices:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "gas_price_wei": 1000000,\n  "data_gas_price_wei": 10000,\n  "gas_price_fri": 10000,\n  "data_gas_price_fri": 10000,\n  "l2_gas_price_wei": 10000,\n  "l2_gas_price_fri": 10000\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var s=t(6540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);